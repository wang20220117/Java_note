# 正则表达式

校验字符串的一种规则

```java
new String().matches(正则表达式)
```



[正则表达式在线测试 | 菜鸟工具 (jyshare.com)](https://www.jyshare.com/front-end/854/)



**限定符**（重复次数）

| 限定符 | 描述                                           | 实例                                                         |
| ------ | ---------------------------------------------- | ------------------------------------------------------------ |
| ？     | 问号之前的字符出现0次或者1次                   | used?可以匹配use和used                                       |
| *      | 星号之前的字符可以出现0次或多次                | ab*c可以匹配abbbc , abc ,ac                                  |
| +      | 加号之前的字符可以出现1次或者多次              |                                                              |
| {}     | 花括号之前的字符可以出现花括号内的次数（区间） | ab{4}c 可以匹配abbbbc，ab{4,6}c可以匹配b出现4到6次，ab{2,}c可以匹配b出现2次以上。 |

`+?`：非贪婪匹配

`*?`：非贪婪匹配

**元字符**

| 元字符          | 描述                                                         |
| --------------- | ------------------------------------------------------------ |
| .               | 点号匹配任意单个字符除了换行符。                             |
| [ ]             | 字符种类。匹配方括号内的任意字符                             |
| [^]             | 否定的字符种类。匹配除了方括号里的任意字符                   |
| *，+，？，{n,m} | 见上表                                                       |
| (xyz)           | 字符集，匹配与 xyz 完全相等的字符串                          |
| \|              | 或运算符                                                     |
| \               | 转义字符，用于匹配一些保留的字符[ ]  ( )  {}  .  *  +  ?  ^  $  \  \| |
| ^               | 从开始行匹配字符                                             |
| $               | 从末端开始匹配                                               |

**简写字符集**（只匹配一个字符）

![简写字符集](D:\md_image\Untitled.png)

`\d` ：匹配一个数字

`\w` ：匹配一个字母或数字

`\s` ：表示空格或者Tab空白符

`.` ：可以匹配任意字符

`*` ：表示任意个字符（包括0个）

`+`  ：表示至少一个字符

`?`  ：表示0个或1个字符，

`{n}`  ：匹配 `n` 个前面的表达式

`{n,m}`  ：匹配 `n` 到 `m` 次由前面正则表达式定义的片段，贪婪方式

`[]` ：表示范围

`[^...]` ：不在 `[]` 中的字符

![](D:\md_image\Untitled2.png)

`( )`匹配括号内的表达式，也表示一个组，作用是**分组**。

`A|B`可以匹配A或B

`^`表示行的开头，`^\d`表示必须以数字开头。

`$`表示行的结束，`\d$`表示必须以数字结束。

`\u4e00-\u9fa5` 是 Unicode 编码范围，代表汉字的范围

`(?=.*\d)(?=.*\w)` 

这个正则表达式要求字符串中同时包含至少一个数字和至少一个字母、数字或下划线，但它们的位置可以是任意的，只要整个字符串中同时满足这两个条件即可





`[a-z[def]]`：a-z和def的并集

`[a-z&&[def]]` :  a-z和def的交集

细节：如果要求两个范围的交集，那么需要写符号&&

​			如果写成了一个&，那么此时&就是一个简简单单的&符号。



总结：



![image-20240607111653991](D:\md_image\image-20240607111653991.png)

![image-20240607111816637](D:\md_image\image-20240607111816637.png)



两个类：

`java.util.regex.Pattern` : 表示正则表达式

`java.util.regex.Matcher` : 文本匹配器，作用按照正则表达式的规则去读取字符串，从头开始读取，在大串中去找符合匹配规则的子串。



![image-20240607113542777](D:\md_image\image-20240607113542777.png)



## **正则表达式的先行断言和后行断言**

[正则表达式的先行断言(lookahead)和后行断言(lookbehind) | 菜鸟教程 (runoob.com)](https://www.runoob.com/w3cnote/reg-lookahead-lookbehind.html)



## 捕获分组

（）代表一组，组的序号从1开始

从左到右第几个 " ( " 就是第几组。

`\\组号` ：表示把第 X 组的内容拿出来再用一次。

```java
//判断一个字符的开始字符是否一致？只考虑一个字符。举例 a123a b456b 17891

String  regex1 = "(.).+\\1";
System.out.println("a123a".matches(regex1));  //True
```



```java
//匹配 aaa123bbb型
//        String regex1 = "((.){1,}).+\\1";
        String regex1 = "((.)\\2*).+\\1";
        System.out.println("aaa123aaa".matches(regex1));
```

`$组号`：在正则表达式外面使用第 X 组

```java
//将"我要学学编编编程程程"替换为“我要学编程”
        String str = "我要学学编编编程程程";

        String str1 = str.replaceAll("(.)\\1+","$1");
        System.out.println(str1);
```

## 非捕获分组

非捕获分组仅仅把数据括起来，不占用组号。

![image-20240607172503451](D:\md_image\image-20240607172503451.png)



## 总结

![image-20240607173002745](D:\md_image\image-20240607173002745.png)
